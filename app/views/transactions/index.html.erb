<h1>Listing transactions</h1>

<table>
  <tr>
    <th>Friend</th>
    <th>Amount</th>
    <th>Type</th>
    <th>Deadline</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @transactions.each do |transaction| %>
  <tr>
    <td><%= Friend.find(transaction.friend_id).name %></td>
    <td><%= transaction.amount %></td>
    <td><%= whatType(transaction.t_type) %></td>
    <td><%= transaction.deadline %></td>
    <td><%= link_to 'Show', transaction %></td>
    <td><%= link_to 'Edit', edit_transaction_path(transaction) %></td>
    <td><%= link_to 'Destroy', transaction, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<div id="transactions">
  <h2 id="month">
    <%= link_to "<", date: @date.prev_month %>
    <%= @date.strftime("%B %Y") %>
    <%= link_to ">", date: @date.next_month %>
  </h2>
  <%= calendar @date do |date| %>
    <%= date.day %>
    <% if @transactions_by_date[date] %>
      <ul>
        <% @transactions_by_date[date].each do |transaction| %>
          <li><%= link_to Friend.find(transaction.friend_id).name + " - " + transaction.amount.to_s, transaction %></li>
        <% end %>
      </ul>
    <% end %>
  <% end %>
</div>

<br />

<%= link_to 'New Transaction', new_transaction_path %>
